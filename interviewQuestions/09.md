### 23: 介紹下觀察者模式和訂閱-發布模式的區別，各自適用於什麼場景

#### 觀察者模式 vs 發布訂閱模式

觀察者模式

所謂觀察者模式，其實就是為了實現鬆耦合(loosely coupled)

舉個例子，當數據有更新，如 onChange 方法被調用，用來更新 state 數據， 比如溫度、氣壓等。

這樣寫的問題是，如果想更新更多的信息，比如說溫度， 那就要去修改 onChange 的代碼，這就是緊耦合的壞處。

對於觀察者模式，我們僅僅維護一個可觀察對象即可，即一個 Observable Instance。
當有數據需要變更時，他只需要維護一套觀察者 (Observer) 的集合。

這些 Observer 實現相同的接口，Subject 只需要知道
通知 Observer 時，需要調用哪個統一的方法就可以了

![](./images//observers.png)

發布訂閱模式

在發布訂閱模式裡，發布者，並不會直接通知訂閱者，換句話說，發布者和訂閱者，彼此互不相識。

那他們之間如何交流？

答案是，通過第三者觸發，也就是在消息隊列裡面，
發布者和訂閱者通過事件名來聯繫，匹配上後直接執行對應訂閱者的方法即可。

![](./images//pub-sub.gif)

與觀察者模式不一樣，發布訂閱模式裡，發布者和訂閱者，不是鬆耦合，而是完全解耦的。

最後

區別：
Observe pattern 中，只有兩個角色 - 觀察者 + 被觀察者
pub & sub pattern 中，卻不僅僅只有發布者和訂閱者兩個角色，還有一個管理並執行消息隊列的人
